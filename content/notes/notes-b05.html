---
title: "Character Data"
output: html_document
---



<p>From this topic, students are anticipated to be able to:</p>
<ul>
<li>Manipulate a character vector in R using the stringr package.</li>
<li>Write simple regular expressions (regex).</li>
<li>Apply stringr and regular expressions to manipulate data in tibbles.</li>
</ul>
<div id="resources" class="section level2">
<h2>Resources</h2>
<p>Video lecture:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=I0dJ1zpxAtU">Regular Expressions and stringr for Text Data</a> (only labelled as “age restricted” because it looks at real emails within the Enron company.)</li>
</ul>
<p>Written material:</p>
<ul>
<li>Overview tutorials similar to our worksheet:
<ul>
<li><a href="https://stat545.com/character-vectors.html">stat545.com Chapter 11: character vectors</a></li>
<li><a href="https://r4ds.had.co.nz/strings.html">R4DS Chapter 15: strings</a>.</li>
<li><a href="https://r4ds.had.co.nz/regexps.html">R4DS Chapter 16: regular expressions</a>.</li>
</ul></li>
<li>The stat545.com Chapter 11 on character vectors <a href="https://stat545.com/character-vectors.html#resources-3">has an elaborate discussion on useful resources</a> for learning more about strings.</li>
</ul>
</div>
<div id="test-your-understanding" class="section level2">
<h2>Test Your Understanding</h2>
<p>Use these questions to check your understanding of the material.</p>
<ol style="list-style-type: decimal">
<li>True or False: The regular expression <code>[ab][ab]</code> will match “ab”, “aa”, and “bb” as possibilities, whereas <code>[ab]{2}</code> will only match “aa” or “bb”.</li>
<li>True or False: The regular expression <code>[ab][ab]</code> will match “ab”, “aa”, and “bb” as possibilities, whereas <code>(ab)(ab)</code> will only match “aa” or “bb”.</li>
<li>True or False: The regular expression <code>^ab</code> will match “ab” as the first characters to a string, whereas <code>[^ab]</code> will match “a” or “b” as being the first character to a string.</li>
</ol>
</div>
<div id="strings" class="section level2">
<h2>Strings</h2>
<p>You’ve used a bunch of strings at this point without knowing explicitly what they are: any time you surround text by <code>"</code>, you’ve been making a <em>string</em>: a storage format for text. In R, they are of type “character”.</p>
<pre class="r"><code>sample_string &lt;- &quot;This is a string&quot; 
typeof(sample_string)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Two places where you’ll often want to manipulate these in data analysis:</p>
<ul>
<li>Cleaning up column/variable names</li>
<li>Cleaning up character column values</li>
</ul>
<p><strong>Good to know</strong>: Constructing strings out of characters and numbers is intuitive, but there’s a gotcha involving particular symbols with special meaning in R. For example, try running <code>quote &lt;- """</code> in R; it won’t work, because the <code>"</code> symbol is interpreted as you trying to make a string! To literally include a quote in a string, you can use the <code>\</code> character to “escape” it:</p>
<pre class="r"><code>single_quote &lt;- &quot;\&quot;&quot;
cat(single_quote)</code></pre>
<pre><code>## &quot;</code></pre>
<p>You can see more examples of special characters and how to escape them in <a href="https://r4ds.hadley.nz/strings#creating-a-string">R4DS Chapter 15.2</a>.</p>
</div>
<div id="working-with-strings" class="section level2">
<h2>Working with strings</h2>
<p>Our main tools for working with strings will be the powerful <code>stringr</code> package in the tidyverse paired with regular expressions. We think the best way to start learning these is through the guided tutorial in Worksheet B2.</p>
<div id="agenda" class="section level3">
<h3>Agenda</h3>
</div>
</div>
<div id="class-1" class="section level2">
<h2>Class 1</h2>
<ul>
<li><strong>Before class</strong>, start working on parts I and II of Worksheet B2.</li>
<li>Class will be dedicated to getting your questions answered.</li>
<li>Done early? Then do the optional R4DS Strings and R4DS Regular expressions readings (linked above), and do exercises for extra practice.</li>
</ul>
</div>
<div id="class-2" class="section level2">
<h2>Class 2</h2>
<ul>
<li><strong>Before class</strong>, start working on parts II and III of Worksheet B2.</li>
<li>Class will be dedicated to getting your questions answered.</li>
<li>Done early? Then do the optional R4DS Strings and R4DS Regular expressions readings (linked above), and do exercises for extra practice. Or, start Assignment B4.</li>
</ul>
</div>
